<html lang="FR-fr">
	<!-- En-tête de la page -->
	<head>
		<!-- Titre de la page -->
		<title>RobotCV - Consulter un profil</title>
		<!-- Titre de la page -->

		<meta charset="utf-8">

		<!-- Framework Bootstrap -->
		<link rel="stylesheet" href="{{ asset('bootstrap/css/bootstrap.css') }}">
		<script src="{{ asset('bootstrap/js/bootstrap.js') }}"></script>
		<!-- Framework Bootstrap -->

		<!-- Script JQuery -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
		<!-- Script JQuery -->

		<!-- Feuilles de style CSS -->
		<link rel="stylesheet" href="{{ asset('css/main.css') }}">
		<!-- Feuilles de style CSS -->
	</head>
	<!-- En-tête de la page -->


	<!-- Corps de la page -->
	<body>
		<!-- Header -->
		{% include 'header.html.twig' %}
		<!-- Header -->

		<!-- Contenu de la page -->
		<div class="body">

				<div class="container">
					<div class="form-group float-end mb-5">
						<input type="text" class="search form-control" placeholder="Rechercher">
					</div>
					<span class="counter pull-right"></span>
					<table class="table table-hover table-bordered results">
						<thead>
							<tr>
								<th class="col-md-5 col-xs-5">Profil</th>
								<th class="col-md-4 col-xs-4">Nom</th>
								<th class="col-md-3 col-xs-3">Prénom</th>
								<th class="col-md-3 col-xs-3">Action</th>
							</tr>
								<tr class="warning no-result">
								<td colspan="4"><i class="fa fa-warning"></i> Pas de résultats</td>
							</tr>
						</thead>
						<tbody>
							{% for candidat in candidats %}
								<tr>
									<td>{{ candidat.Profil }}</td>
									<td>{{ candidat.Nom }}</td>
									<td>{{ candidat.Prenom }}</td>
									<td><a href=''>Voir</a></td>
								</tr>
							 {% endfor %}
						</tbody>
					</table>
				</div>
		</div>
		<!-- Contenu de la page -->

		<!-- SCRIPT pour tableau -->

		<script type="text/javascript">
			$(document).ready(function() {
				$(".search").keyup(function () {
					var searchTerm = $(".search").val();
					var listItem = $('.results tbody').children('tr');
					var searchSplit = searchTerm.replace(/ /g, "'):containsi('")
					
				$.extend($.expr[':'], {'containsi': function(elem, i, match, array){
						return (elem.textContent || elem.innerText || '').toLowerCase().indexOf((match[3] || "").toLowerCase()) >= 0;
					}
				});
					
				$(".results tbody tr").not(":containsi('" + searchSplit + "')").each(function(e){
					$(this).attr('visible','false');
				});

				$(".results tbody tr:containsi('" + searchSplit + "')").each(function(e){
					$(this).attr('visible','true');
				});

				var jobCount = $('.results tbody tr[visible="true"]').length;
					$('.counter').text(jobCount + ' profils');

				if(jobCount == '0') {$('.no-result').show();}
					else {$('.no-result').hide();}
						});
				});
		</script>
		<!-- SCRIPT pour tableau -->

		<!-- Footer -->
		{% include 'footer.html.twig' %}
		<!-- Footer -->
	</body>
	<!-- Corps de la page -->
</html>